## 11.文件操作

### 1.文件

磁盘中的文件是文件

1. 程序文件   .c    ,obj   .exe

   程序文件操作数据文件

2. 数据文件

### 2.文件名

组成：文件路径+文件名主干+文件后缀

文件类型   内存->外存(转换成ASCII码值-文本，直接--二进制)

1. 文本文件    文本+字符   10000--五个字节
2. 二进制文件    数据在内存中以二进制的形式存储  10000--四个字节

### 3.文件缓冲区

**缓冲文件系统** 处理 数据文件

输出缓冲区，输入缓冲区（在写程序时会自动生成一块缓冲区，先去缓冲区，再下一步）

printf->缓冲区->磁盘（缓冲区放满了，才会放到硬盘上）

### 4.文件类型指针

简称：文件指针

`typedf struct_iobuf FILE`

创建一个**结构体变量 FILE f**来**装文件的信息**

每当打开一个文件的时候，系统会根据文件的情况自动**创建一个FILE结构的变量**，并**填充其中的信息**，使用者不必关心细节。

一般都是通过一个**FILE的指针**来维护这个FILE结构的变量，这样**使用**起来更加方便

### 5.标准输入输出设备

1. 键盘--标准输入设备--stdin

2. 屏幕--标准输出设备--stdout

3. stderr  

   **都是FILE*类型**

   是一个程序默认打开的三个流设备

### 6.对比一组函数

先介绍一个新玩意儿

1. `sscanf`--把从buf中读取格式化的数据到tmp中
2. `sprintf`--把格式化的数据转换成字符串存储到buf

```c
scanf /fscanf /sscanf;
printf/fprintf/sprintf
    scanf/printf--是针对标准输入流/输出流的格式化输入/输出语句
    fscanf/fprintf--是针对所有输入流/所有输出流的格式化输入/输出语句
   sscanf--中读取格式化的数据
   sprintf--是把格式化数据输出成（存储到）字符串
```

### 7.`fread`的返回值

就是**真实读入的信息个数**，n如果等于1，没有元素可以读了，就返回0，有就返回1

### 8.文件结束的检测

1. `ferror`当**读写错误**时，返回值为**非0**

2. `feof`当遇到**文件尾结束**时，返回值为**非0**

   1. 牢记：==在文件读取过程中，不能用feof函数的返回值直接用来判断文件是否结束==  而是，应用于，当文件结束的时候，判断是否读取失败结束，还是遇到文件尾结束。
   2. 返回值判断是否结束的方法
      1. fgetc-->EOF
      2. fgets-->NULL
      3. fread-->返回小于实际要读的个数



   



